# Dead Code Detection

Guide AI agents through systematic identification and removal of dead code in iterative, safe
chunks.

## Critical Workflow Rule

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸  MANDATORY WORKFLOW - DO NOT SKIP STEPS                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ 1. DISCOVER  â†’ Scan and collect findings (NO modifications) â”‚
â”‚ 2. REPORT    â†’ Present findings to engineer                 â”‚
â”‚ 3. PLAN      â†’ Write removal plan for review                â”‚
â”‚ 4. WAIT      â†’ Get explicit approval before ANY changes     â”‚
â”‚ 5. EXECUTE   â†’ Remove approved items in small batches       â”‚
â”‚ 6. VERIFY    â†’ Run tests, confirm nothing broke             â”‚
â”‚                                                             â”‚
â”‚ NEVER skip to step 5. ALWAYS wait for approval.             â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Trigger Phrases

- "Find dead code"
- "Clean up unused code"
- "Remove dead code in [area]"
- "What code is unused?"

## Philosophy

Dead code increases cognitive load, bundle size, and maintenance burden. However, removing it
incorrectly breaks things. This guide prioritizes:

1. **High confidence** - Only flag code we're very sure is unused
2. **Low risk** - Start with isolated, obvious cases
3. **Iterative** - Small batches that can be verified and rolled back
4. **Verifiable** - Each removal can be tested
5. **Human-approved** - Engineers review and approve all removals

## Dead Code Categories (Ordered by Detection Confidence)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TIER 1: VERY HIGH CONFIDENCE (Start here)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ 1. Commented-out code blocks                                â”‚
â”‚    â””â”€ Pattern: Multi-line /* */ or consecutive //           â”‚
â”‚    â””â”€ Risk: Almost zero                                     â”‚
â”‚                                                             â”‚
â”‚ 2. Unused local variables (within same file)                â”‚
â”‚    â””â”€ Declared but never read                               â”‚
â”‚    â””â”€ ESLint usually catches, but check anyway              â”‚
â”‚                                                             â”‚
â”‚ 3. Unused imports                                           â”‚
â”‚    â””â”€ import { X } from '...' where X never appears         â”‚
â”‚    â””â”€ Very safe to remove                                   â”‚
â”‚                                                             â”‚
â”‚ 4. console.log / debugger statements                        â”‚
â”‚    â””â”€ Should not be in production code                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TIER 2: HIGH CONFIDENCE                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ 5. Unexported functions/constants used nowhere in file      â”‚
â”‚    â””â”€ const helper = () => {} that's never called           â”‚
â”‚    â””â”€ Private to file, safe if unused locally               â”‚
â”‚                                                             â”‚
â”‚ 6. Unreachable code after return/throw                      â”‚
â”‚    â””â”€ Code that can never execute                           â”‚
â”‚                                                             â”‚
â”‚ 7. Empty files or files with only imports                   â”‚
â”‚    â””â”€ Files that export nothing or do nothing               â”‚
â”‚                                                             â”‚
â”‚ 8. Test files for deleted source files                      â”‚
â”‚    â””â”€ foo.test.tsx exists but foo.tsx doesn't               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TIER 3: MEDIUM CONFIDENCE (Requires cross-file analysis)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ 9. Exported functions/components never imported elsewhere   â”‚
â”‚    â””â”€ export const X = ... with no imports of X             â”‚
â”‚    â””â”€ Search entire codebase for usage                      â”‚
â”‚    â””â”€ WATCH OUT: Could be used dynamically or externally    â”‚
â”‚                                                             â”‚
â”‚ 10. Entire files never imported                             â”‚
â”‚    â””â”€ A .tsx file no other file imports                     â”‚
â”‚    â””â”€ Could be entry point or lazy-loaded                   â”‚
â”‚                                                             â”‚
â”‚ 11. CSS classes never referenced                            â”‚
â”‚    â””â”€ .my-class in SCSS but never in JSX/HTML               â”‚
â”‚                                                             â”‚
â”‚ 12. Redux actions/selectors never dispatched/selected       â”‚
â”‚    â””â”€ Action types with no dispatch calls                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TIER 4: LOWER CONFIDENCE (Manual review required)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ 13. Feature flags that are always on/off                    â”‚
â”‚    â””â”€ Requires understanding of flag state                  â”‚
â”‚                                                             â”‚
â”‚ 14. API endpoints never called from frontend                â”‚
â”‚    â””â”€ May be called from other services                     â”‚
â”‚                                                             â”‚
â”‚ 15. Database columns never read                             â”‚
â”‚    â””â”€ May be used by other services or reports              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Workflow: Step-by-Step

### Step 1: Discovery (Read-Only)

Pick ONE directory to analyze. For each file:

1. List all exports
2. For each export, grep codebase for usage
3. Record findings in structured format
4. **DO NOT MODIFY ANY FILES**

### Step 2: Report Findings

Present a structured findings report to the engineer:

```markdown
## Dead Code Analysis: [directory]

### Scan Summary

- **Directory**: src/utilities/
- **Files analyzed**: 45
- **Total exports found**: 234
- **Potentially dead**: 18

### Confidence Breakdown

| Confidence | Count | Description                         |
| ---------- | ----- | ----------------------------------- |
| ğŸŸ¢ High    | 12    | Safe to remove, no references found |
| ğŸŸ¡ Medium  | 4     | Likely dead, needs verification     |
| ğŸ”´ Low     | 2     | Uncertain, requires investigation   |

---

### ğŸŸ¢ High Confidence Findings

#### 1. `old_date_formatter.ts` (entire file)

- **Type**: Orphan file
- **Exports**: `formatDateLegacy`, `parseDateOld`
- **References found**: 0
- **Last modified**: 2023-04-15 (2+ years ago)
- **Evidence**:
```

grep -r "formatDateLegacy" â†’ 0 results grep -r "old_date_formatter" â†’ 0 results

```

#### 2. `string_helpers.ts` â†’ `truncateOld` (lines 45-52)
- **Type**: Unused export
- **References found**: 0
- **Note**: File has 5 other exports that ARE actively used
- **Evidence**:
```

grep -r "truncateOld" â†’ 0 results

```

#### 3. `api_utils.ts` â†’ unused imports (line 1-3)
- **Type**: Unused imports
- **Imports**: `lodash.debounce`, `moment`
- **Evidence**: Neither symbol appears elsewhere in file

---

### ğŸŸ¡ Medium Confidence Findings

#### 4. `query_builder.ts` â†’ `buildLegacyQuery`
- **Type**: Unused export
- **References in TS/TSX**: 0
- **âš ï¸ Caution**: Could be used in Ruby ERB templates
- **Verification needed**: `grep -r "buildLegacyQuery" app/views/`

---

### ğŸ”´ Low Confidence Findings

#### 5. `feature_helpers.ts` â†’ `isFeatureEnabled`
- **Type**: Possibly unused export
- **References**: 0 direct imports
- **âš ï¸ Caution**: Function name suggests dynamic usage
- **Risk**: Could be called via string interpolation

---

### Items NOT Flagged (False Positive Prevention)
- `index.ts` - Barrel export, intentionally re-exports
- `route.tsx` files - File-based routing entry points
- Files modified < 30 days ago - Could be WIP
```

### Step 3: Write Removal Plan

After presenting findings, write a concrete removal plan:

```markdown
## Proposed Removal Plan

### Batch 1: High Confidence - Entire Files

| Action | File                                  | Reason                       |
| ------ | ------------------------------------- | ---------------------------- |
| DELETE | `src/utilities/old_date_formatter.ts` | 0 references, 2+ years stale |

**Verification**: Run `./t -m` and `make types`

---

### Batch 2: High Confidence - Partial Removals

| Action | File                | Lines | What                   |
| ------ | ------------------- | ----- | ---------------------- |
| REMOVE | `string_helpers.ts` | 45-52 | `truncateOld` function |
| REMOVE | `api_utils.ts`      | 1-3   | Unused imports         |

**Verification**: Run `./t -n src/utilities/string_helpers.test.ts`

---

### Batch 3: Medium Confidence (After Verification)

| Action | File               | What               | Pre-check              |
| ------ | ------------------ | ------------------ | ---------------------- |
| REMOVE | `query_builder.ts` | `buildLegacyQuery` | âœ… Verified not in ERB |

---

### NOT Removing (Needs More Investigation)

| File                 | Export             | Why Skipping           |
| -------------------- | ------------------ | ---------------------- |
| `feature_helpers.ts` | `isFeatureEnabled` | Possible dynamic usage |

---

### Estimated Impact

- **Files deleted**: 1
- **Functions removed**: 2
- **Lines removed**: ~45
- **Bundle size reduction**: ~2KB (estimated)

---

## â¸ï¸ AWAITING APPROVAL

Please review the plan above and respond with:

- **"Approve all"** - Execute all batches
- **"Approve batch 1 only"** - Execute only first batch
- **"Approve with changes: [details]"** - Modified approval
- **"Reject"** - Do not proceed, explain concerns
```

### Step 4: Wait for Approval

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â›” STOP HERE - DO NOT PROCEED WITHOUT EXPLICIT APPROVAL     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ Wait for engineer to respond with one of:                   â”‚
â”‚                                                             â”‚
â”‚ â€¢ "Approve all"                                             â”‚
â”‚ â€¢ "Approve batch N"                                         â”‚
â”‚ â€¢ "Approve with changes"                                    â”‚
â”‚ â€¢ "Reject" or "Stop"                                        â”‚
â”‚                                                             â”‚
â”‚ If no response, do not assume approval.                     â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 5: Execute Approved Removals

Only after explicit approval:

1. Execute ONE batch at a time
2. After each batch:
   - Run tests: `./t -m`
   - Run types: `make types`
   - Run lint: `make eslint`
3. Report results before proceeding to next batch
4. If any failures, STOP and report

### Step 6: Post-Removal Report

```markdown
## Removal Complete

### Batch 1 Results

- âœ… Deleted `old_date_formatter.ts`
- âœ… Tests pass
- âœ… Types check
- âœ… Lint clean

### Batch 2 Results

- âœ… Removed `truncateOld` from `string_helpers.ts`
- âœ… Removed unused imports from `api_utils.ts`
- âœ… All checks pass

### Summary

- **Files deleted**: 1
- **Functions removed**: 2
- **Lines removed**: 47
- **Tests**: All passing

### Cascade Check

After removals, found 0 newly-dead code items.

### Ready for commit?

Suggested commit message:
```

Remove unused date formatting utilities

Problem: old_date_formatter.ts and truncateOld were exported but never imported anywhere in the
codebase for 2+ years.

Verified: grep found 0 references. Tests pass.

```

```

## Detection Strategies

### Strategy 1: Commented Code (Safest)

```bash
grep -rn "^\s*//" --include="*.ts" --include="*.tsx" | \
  grep -E "(const|let|var|function|return|import|export)"
```

### Strategy 2: Unused Imports

1. Read file
2. Extract all imports
3. For each imported symbol, check if it appears elsewhere in the file
4. Flag imports where symbol only appears in the import line

### Strategy 3: Unexported Private Functions

1. Find all `const name = () =>` or `function name()` without `export`
2. Search rest of file for `name(`
3. If zero calls, it's dead

### Strategy 4: Exported But Never Imported

1. List all exports from file
2. For each export, grep entire codebase
3. If zero imports found, flag as potentially dead

**Caution**: Check for dynamic imports, re-exports, public API entry points

### Strategy 5: Orphan Files

```bash
for file in $(find . -name "*.tsx"); do
  basename=$(basename $file .tsx)
  if ! grep -r "from.*$basename" --include="*.ts" --include="*.tsx" -q; then
    echo "Potentially orphan: $file"
  fi
done
```

## Patterns That Look Dead But Aren't

```
DO NOT FLAG AS DEAD:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ Files in routers/wouter/routes/  â†’ File-based routing entry points
â€¢ Files in routers/dashboard/routes/ â†’ Dashboard route entry points
â€¢ index.ts barrel exports â†’ Public API, even if not all used internally
â€¢ *.stories.tsx â†’ Storybook, loaded by convention
â€¢ *.test.tsx â†’ Test files, loaded by Jest
â€¢ app/views/**/*.erb â†’ Ruby views loaded by Rails conventions
â€¢ Components with data-testid â†’ May be used for E2E tests
â€¢ Files imported in fake-api-server/endpoints/ â†’ Dev tooling
```

## Safety Rules

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NEVER REMOVE                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ â€¢ index.ts files (barrel exports, public APIs)              â”‚
â”‚ â€¢ Files < 30 days old (might be WIP)                        â”‚
â”‚ â€¢ Anything with TODO/FIXME referencing a ticket             â”‚
â”‚ â€¢ Type definitions (*.d.ts)                                 â”‚
â”‚ â€¢ Config files                                              â”‚
â”‚ â€¢ Files in __mocks__/                                       â”‚
â”‚ â€¢ Anything imported in package.json or tsconfig paths       â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ALWAYS VERIFY                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ â€¢ Run tests after each batch removal                        â”‚
â”‚ â€¢ Check both TS and Ruby files for references               â”‚
â”‚ â€¢ Grep for string versions: "functionName" not just usage   â”‚
â”‚ â€¢ Check git blame - recent additions might be intentional   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Batch Size Guidelines

| Codebase Area       | Recommended Batch Size    |
| ------------------- | ------------------------- |
| Utilities           | 3-5 functions per commit  |
| Components          | 1-2 components per commit |
| Redux slices        | 1 slice per commit        |
| SCSS files          | 5-10 files per commit     |
| Entire orphan files | 1-3 files per commit      |

Smaller batches = easier to debug if something breaks.

## Commands Reference

```bash
# Find all exports in a directory
grep -rh "^export" path/to/dir --include="*.ts" | sort | uniq

# Count references to a symbol
grep -r "symbolName" --include="*.ts" --include="*.tsx" -c

# Find commented code blocks
grep -rn "^\s*//.*\(function\|const\|let\|var\|return\)" --include="*.ts"

# Find unused SCSS files
for f in $(find . -name "*.scss"); do
  name=$(basename $f .scss)
  if ! grep -r "$name" --include="*.tsx" --include="*.ts" -q; then
    echo "Potentially unused: $f"
  fi
done
```
